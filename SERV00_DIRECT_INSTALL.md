# ğŸš€ Serv00 ä¸»æœºç›´æ¥å®‰è£…æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

è¿™ä¸ªæ–¹æ¡ˆå…è®¸æ‚¨åœ¨ Serv00 ä¸»æœºä¸Šç›´æ¥æ‰§è¡Œå®‰è£…è„šæœ¬ï¼Œæ— éœ€é¢„å…ˆé…ç½®ä»»ä½•è´¦å·å¯†ç ä¿¡æ¯ã€‚è„šæœ¬ä¼šè‡ªåŠ¨æ£€æµ‹ç¯å¢ƒã€å…‹éš†ä»£ç ã€æ„å»ºé¡¹ç›®å¹¶å®Œæˆéƒ¨ç½²ã€‚

## âœ¨ ç‰¹æ€§

- ğŸ”„ **è‡ªåŠ¨æ£€æµ‹**ï¼šè‡ªåŠ¨è¯†åˆ« Serv00 ç”¨æˆ·åã€åŸŸåå’Œè·¯å¾„
- ğŸ“¦ **ä¸€é”®éƒ¨ç½²**ï¼šä» Git å…‹éš†åˆ°éƒ¨ç½²å®Œæˆå…¨è‡ªåŠ¨
- ğŸ—„ï¸ **æ™ºèƒ½é…ç½®**ï¼šè‡ªåŠ¨ç”Ÿæˆæ•°æ®åº“å’Œ API é…ç½®
- ğŸ” **å®‰å…¨è®¾ç½®**ï¼šè‡ªåŠ¨è®¾ç½®æ–‡ä»¶æƒé™å’Œå®‰å…¨é…ç½®
- ğŸ§¹ **è‡ªåŠ¨æ¸…ç†**ï¼šéƒ¨ç½²å®Œæˆåè‡ªåŠ¨æ¸…ç†ä¸´æ—¶æ–‡ä»¶

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### æ–¹æ³•ä¸€ï¼šä¸€è¡Œå‘½ä»¤å®‰è£…ï¼ˆæ¨èï¼‰

åœ¨ Serv00 ä¸»æœºçš„ SSH ç»ˆç«¯ä¸­æ‰§è¡Œï¼š

```bash
curl -sSL https://raw.githubusercontent.com/kookhr/demoguanli/serv00/install.sh | bash
```

### æ–¹æ³•äºŒï¼šä¸‹è½½è„šæœ¬åæ‰§è¡Œ

```bash
# ä¸‹è½½è„šæœ¬
wget https://raw.githubusercontent.com/kookhr/demoguanli/serv00/serv00-auto-deploy.sh

# æ·»åŠ æ‰§è¡Œæƒé™
chmod +x serv00-auto-deploy.sh

# æ‰§è¡Œå®‰è£…
./serv00-auto-deploy.sh
```

### æ–¹æ³•ä¸‰ï¼šæ‰‹åŠ¨å…‹éš†åæ‰§è¡Œ

```bash
# å…‹éš†é¡¹ç›®
git clone -b serv00 https://github.com/kookhr/demoguanli.git

# è¿›å…¥ç›®å½•
cd demoguanli

# æ‰§è¡Œå®‰è£…è„šæœ¬
./serv00-auto-deploy.sh
```

## ğŸ“‹ å®‰è£…è¿‡ç¨‹

### 1. ç¯å¢ƒæ£€æµ‹
è„šæœ¬ä¼šè‡ªåŠ¨æ£€æµ‹ï¼š
- âœ… Serv00 ç”¨æˆ·å
- âœ… å¯ç”¨åŸŸååˆ—è¡¨
- âœ… éƒ¨ç½²è·¯å¾„
- âœ… ç³»ç»Ÿä¾èµ–

### 2. é¡¹ç›®æ„å»º
- ğŸ“¦ å…‹éš† Git ä»“åº“
- ğŸ”§ å®‰è£… npm ä¾èµ–
- ğŸ—ï¸ æ„å»ºç”Ÿäº§ç‰ˆæœ¬
- ğŸ“ ç”Ÿæˆé…ç½®æ–‡ä»¶

### 3. æ–‡ä»¶éƒ¨ç½²
- ğŸ“ å¤åˆ¶å‰ç«¯æ–‡ä»¶åˆ° public_html
- ğŸ”Œ éƒ¨ç½² PHP API
- ğŸ—„ï¸ å¤åˆ¶æ•°æ®åº“è„šæœ¬
- ğŸ” è®¾ç½®æ–‡ä»¶æƒé™

### 4. é…ç½®ç”Ÿæˆ
- âš™ï¸ è‡ªåŠ¨ç”Ÿæˆ .env é…ç½®
- ğŸŒ åˆ›å»º .htaccess æ–‡ä»¶
- ğŸ—„ï¸ ç”Ÿæˆæ•°æ®åº“åˆå§‹åŒ–è„šæœ¬

## ğŸ—„ï¸ æ•°æ®åº“è®¾ç½®

å®‰è£…å®Œæˆåï¼Œæ‚¨éœ€è¦æ‰‹åŠ¨å®Œæˆæ•°æ®åº“è®¾ç½®ï¼š

### 1. åœ¨ Serv00 é¢æ¿ä¸­åˆ›å»ºæ•°æ®åº“
1. ç™»å½• Serv00 æ§åˆ¶é¢æ¿
2. è¿›å…¥ "Databases" â†’ "MySQL"
3. åˆ›å»ºæ–°æ•°æ®åº“ï¼š`environment_manager`
4. è®°å½•æ•°æ®åº“ç”¨æˆ·åå’Œå¯†ç 

### 2. è¿è¡Œæ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
```bash
# è„šæœ¬ä¼šè‡ªåŠ¨åˆ›å»ºåœ¨æ‚¨çš„ä¸»ç›®å½•
~/init_database.sh
```

### 3. éªŒè¯æ•°æ®åº“
```bash
# æ£€æŸ¥æ•°æ®åº“è¡¨
mysql -u your_username -p environment_manager -e "SHOW TABLES;"
```

## ğŸ“ éƒ¨ç½²ç»“æ„

å®‰è£…å®Œæˆåçš„æ–‡ä»¶ç»“æ„ï¼š

```
/usr/home/username/domains/domain.serv00.net/public_html/
â”œâ”€â”€ index.html                 # å‰ç«¯å…¥å£
â”œâ”€â”€ assets/                    # å‰ç«¯èµ„æº
â”‚   â”œâ”€â”€ css/
â”‚   â””â”€â”€ js/
â”œâ”€â”€ api/                       # PHP API
â”‚   â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ controllers/
â”‚   â”œâ”€â”€ index.php
â”‚   â”œâ”€â”€ .env
â”‚   â””â”€â”€ .htaccess
â”œâ”€â”€ database/                  # æ•°æ®åº“è„šæœ¬
â”‚   â””â”€â”€ init.sql
â””â”€â”€ .htaccess                  # å‰ç«¯è·¯ç”±é…ç½®
```

## ğŸ”§ è‡ªåŠ¨ç”Ÿæˆçš„é…ç½®

### API ç¯å¢ƒé…ç½® (api/.env)
```bash
DB_HOST=localhost
DB_NAME=environment_manager
DB_USER=your_username
DB_PASSWORD=your_password
API_BASE_URL=/api
JWT_SECRET=auto_generated_secret
APP_URL=https://your_domain.serv00.net
```

### å‰ç«¯è·¯ç”±é…ç½® (.htaccess)
- SPA è·¯ç”±æ”¯æŒ
- API è·¯ç”±é‡å†™
- Gzip å‹ç¼©
- ç¼“å­˜ç­–ç•¥
- å®‰å…¨å¤´è®¾ç½®

## ğŸ¯ å®‰è£…åæ­¥éª¤

### 1. è®¿é—®ç½‘ç«™
```
https://your_domain.serv00.net
```

### 2. ç®¡ç†å‘˜ç™»å½•
- ç”¨æˆ·åï¼š`admin`
- å¯†ç ï¼š`admin123`

### 3. ç«‹å³ä¿®æ”¹å¯†ç 
1. ç™»å½•åè¿›å…¥ç”¨æˆ·ç®¡ç†
2. ä¿®æ”¹ç®¡ç†å‘˜å¯†ç 
3. é…ç½®å…¶ä»–å®‰å…¨è®¾ç½®

### 4. æ·»åŠ ç¯å¢ƒé…ç½®
1. ç‚¹å‡»"æ·»åŠ ç¯å¢ƒ"
2. å¡«å†™ç¯å¢ƒä¿¡æ¯
3. æµ‹è¯•çŠ¶æ€æ£€æµ‹

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**1. è„šæœ¬ä¸‹è½½å¤±è´¥**
```bash
# æ£€æŸ¥ç½‘ç»œè¿æ¥
ping github.com

# æ‰‹åŠ¨ä¸‹è½½
wget --no-check-certificate https://raw.githubusercontent.com/kookhr/demoguanli/serv00/serv00-auto-deploy.sh
```

**2. ä¾èµ–ç¼ºå¤±**
```bash
# æ£€æŸ¥ Node.js
node --version

# æ£€æŸ¥ npm
npm --version

# æ£€æŸ¥ PHP
php --version
```

**3. æƒé™é—®é¢˜**
```bash
# æ£€æŸ¥æ–‡ä»¶æƒé™
ls -la ~/domains/*/public_html/

# ä¿®å¤æƒé™
chmod -R 755 ~/domains/*/public_html/
```

**4. æ•°æ®åº“è¿æ¥å¤±è´¥**
```bash
# æµ‹è¯•æ•°æ®åº“è¿æ¥
mysql -u username -p

# æ£€æŸ¥æ•°æ®åº“é…ç½®
cat ~/domains/*/public_html/api/.env
```

### æ—¥å¿—æŸ¥çœ‹

**PHP é”™è¯¯æ—¥å¿—**
```bash
tail -f /tmp/php_errors.log
```

**åº”ç”¨æ—¥å¿—**
```bash
tail -f /tmp/environment_manager.log
```

**Apache é”™è¯¯æ—¥å¿—**
```bash
tail -f ~/domains/*/logs/error.log
```

## ğŸ”„ æ›´æ–°å’Œç»´æŠ¤

### æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬
```bash
# é‡æ–°è¿è¡Œå®‰è£…è„šæœ¬å³å¯
curl -sSL https://raw.githubusercontent.com/kookhr/demoguanli/serv00/install.sh | bash
```

### å¤‡ä»½æ•°æ®
```bash
# å¤‡ä»½æ•°æ®åº“
mysqldump -u username -p environment_manager > backup.sql

# å¤‡ä»½é…ç½®æ–‡ä»¶
cp ~/domains/*/public_html/api/.env ~/backup_env
```

### æ¢å¤æ•°æ®
```bash
# æ¢å¤æ•°æ®åº“
mysql -u username -p environment_manager < backup.sql

# æ¢å¤é…ç½®
cp ~/backup_env ~/domains/*/public_html/api/.env
```

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### å¯ç”¨ç¼“å­˜
è„šæœ¬å·²è‡ªåŠ¨é…ç½®ï¼š
- âœ… Gzip å‹ç¼©
- âœ… æµè§ˆå™¨ç¼“å­˜
- âœ… é™æ€èµ„æºç¼“å­˜

### æ•°æ®åº“ä¼˜åŒ–
```sql
-- æ·»åŠ ç´¢å¼•ï¼ˆå¦‚éœ€è¦ï¼‰
ALTER TABLE status_history ADD INDEX idx_checked_at (checked_at);
ALTER TABLE environments ADD INDEX idx_name (name);
```

## ğŸ”’ å®‰å…¨å»ºè®®

### 1. ç«‹å³ä¿®æ”¹é»˜è®¤å¯†ç 
- ç®¡ç†å‘˜å¯†ç ï¼šadmin123 â†’ å¼ºå¯†ç 

### 2. å®šæœŸå¤‡ä»½
- æ•°æ®åº“å¤‡ä»½
- é…ç½®æ–‡ä»¶å¤‡ä»½

### 3. ç›‘æ§æ—¥å¿—
- å®šæœŸæ£€æŸ¥é”™è¯¯æ—¥å¿—
- ç›‘æ§å¼‚å¸¸è®¿é—®

### 4. æ›´æ–°ç»´æŠ¤
- å®šæœŸæ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬
- å…³æ³¨å®‰å…¨å…¬å‘Š

## ğŸ’¡ é«˜çº§é…ç½®

### è‡ªå®šä¹‰åŸŸå
å¦‚æœæ‚¨æœ‰è‡ªå·±çš„åŸŸåï¼š
1. åœ¨ Serv00 é¢æ¿ä¸­æ·»åŠ åŸŸå
2. é‡æ–°è¿è¡Œå®‰è£…è„šæœ¬
3. è„šæœ¬ä¼šè‡ªåŠ¨æ£€æµ‹æ–°åŸŸå

### å¤šç¯å¢ƒéƒ¨ç½²
å¯ä»¥åœ¨ä¸åŒå­ç›®å½•éƒ¨ç½²å¤šä¸ªå®ä¾‹ï¼š
```bash
# ä¿®æ”¹è„šæœ¬ä¸­çš„ PROJECT_NAME
PROJECT_NAME="env-manager-dev"
```

### SSL è¯ä¹¦
Serv00 è‡ªåŠ¨æä¾› Let's Encrypt è¯ä¹¦ï¼Œæ— éœ€é¢å¤–é…ç½®ã€‚

## ğŸ†˜ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. **æŸ¥çœ‹æ—¥å¿—**ï¼šæ£€æŸ¥é”™è¯¯æ—¥å¿—æ–‡ä»¶
2. **é‡æ–°å®‰è£…**ï¼šåˆ é™¤æ–‡ä»¶åé‡æ–°è¿è¡Œè„šæœ¬
3. **è”ç³»æ”¯æŒ**ï¼šæä¾›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯

---

ğŸ‰ **äº«å—æ‚¨çš„å…è´¹ç¯å¢ƒç®¡ç†ç³»ç»Ÿï¼**

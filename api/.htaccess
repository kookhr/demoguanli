# API目录配置 - 简化版本
# 主要路由逻辑由根目录.htaccess处理

<IfModule mod_rewrite.c>
    RewriteEngine On

    # 确保直接访问PHP文件时正常工作
    RewriteCond %{REQUEST_FILENAME} -f
    RewriteCond %{REQUEST_FILENAME} \.php$
    RewriteRule ^(.*)$ $1 [L]

    # 其他请求路由到index.php
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(.*)$ index.php [QSA,L]
</IfModule>

# 文件访问权限
<Files "*.php">
    Require all granted
</Files>

<Files "*.json">
    Require all granted
</Files>

# 禁用目录浏览
Options -Indexes

# MIME类型
<IfModule mod_mime.c>
    AddType application/json .json
    AddType text/plain .log
</IfModule>

# 简化的错误处理
ErrorDocument 404 "API Endpoint Not Found"
